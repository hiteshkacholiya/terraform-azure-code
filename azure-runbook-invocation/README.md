Invoke Azure Runbook via Terrafrom
This folder contains the Terraform Code for invoking Azure Runbook via Terraform by passing accepting parameter values.

Files Included
main.tf : This file contains the executable code executing "null_resource" with "local-exec" provisioner to invoke a PowerShell script by passing arguments to it.
variables.tf : This file contains all the variables that will be used by the Terraform code in main.tf
outputs.tf : This file will contain the outputs that are desired from the Terraform execution
variables.tfvars : This is an optional file required only for local executions and provides the values for all variables required by main Terraform code
Terraform Initialize
Invocation-Script.ps1 - This file contains PowerShell commands to accept parameters passed from Terrafrom and to invoke webhook of Azure Runbook that we desire to run by passing required attribute vaules.
Runbook-Script.ps1 - This file contains sample PowerShell commands for runbook where it accepts webhook based request data and process it accrodingly.

The terraform init command is used to initialize a working directory containing Terraform configuration files. This is the first command that should be run after writing a new Terraform configuration or cloning an existing one from version control. For this particular piece, the initialization is important as we have a custom module that needs to be readied for execution

terraform plan

Terraform Plan
The command below performs Terraform Plan. This does not deploy any resources. It create an execution plan. The command below will take values specified in the .tfvars file. If .tfvars is not provided as parameter, Terraform will ask for input during execution.

terraform plan -var-file="<yourfilename>.tfvars" or terraform plan

Terraform Apply
This command is used to apply the changes required to reach the desired state of the configuration, or the pre-determined set of actions generated by a terraform plan execution plan. If .tfvars is not provided as parameter, Terraform will ask for input during execution.

terraform apply -var-file="<yourfilename>.tfvars"" or terraform apply

Note: For executing this in VS Code, we will need to setup the local dev environment by installing Azure Terraform extension